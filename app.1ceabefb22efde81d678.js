webpackJsonp([0],{162:function(e,t,n){var r=n(461);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0};o.transform=void 0;n(41)(r,o);r.locals&&(e.exports=r.locals)},40:function(e,t){function n(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var a=r(o);return[n].concat(o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"})).concat([a]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<e.length;o++){var i=e[o];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},41:function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=f[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(c(r.parts[a],t))}else{for(var i=[],a=0;a<r.parts.length;a++)i.push(c(r.parts[a],t));f[r.id]={id:r.id,refs:1,parts:i}}}}function o(e,t){for(var n=[],r={},o=0;o<e.length;o++){var a=e[o],i=t.base?a[0]+t.base:a[0],s=a[1],u=a[2],d=a[3],c={css:s,media:u,sourceMap:d};r[i]?r[i].parts.push(c):n.push(r[i]={id:i,parts:[c]})}return n}function a(e,t){var n=g(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=S[S.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),S.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=g(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function i(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=S.indexOf(e);t>=0&&S.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",d(t,e.attrs),a(e,t),t}function u(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",d(t,e.attrs),a(e,t),t}function d(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function c(e,t){var n,r,o,a;if(t.transform&&e.css){if(!(a=t.transform(e.css)))return function(){};e.css=a}if(t.singleton){var d=b++;n=v||(v=s(t)),r=l.bind(null,n,d,!1),o=l.bind(null,n,d,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(t),r=p.bind(null,n,t),o=function(){i(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=h.bind(null,n),o=function(){i(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function l(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function h(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function p(e,t,n){var r=n.css,o=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||a)&&(r=y(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}var f={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),g=function(e){var t={};return function(n){if(void 0===t[n]){var r=e.call(this,n);if(r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[n]=r}return t[n]}}(function(e){return document.querySelector(e)}),v=null,b=0,S=[],y=n(462);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=m()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=o(e,t);return r(n,t),function(e){for(var a=[],i=0;i<n.length;i++){var s=n[i],u=f[s.id];u.refs--,a.push(u)}if(e){r(o(e,t),t)}for(var i=0;i<a.length;i++){var u=a[i];if(0===u.refs){for(var d=0;d<u.parts.length;d++)u.parts[d]();delete f[u.id]}}}};var w=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},459:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(460),o=document.getElementById("app-container");new r.App(o)},460:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){u.label=n[1];break}if(6===n[0]&&u.label<i[1]){u.label=i[1],i=n;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(n);break}i[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,s,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0}),n(162),n(463);var a=n(25),i=n(465),s=n(472),u=n(473),d=n(474),c=function(){function e(e){e.innerHTML=d,this.setupUI(),this.setupGame(),this.runHappyNewYear()}return e.prototype.setupUI=function(){var e=this;this.score=document.getElementById("score"),this.container=document.getElementById("container"),this.boardContainer=document.getElementById("board-container"),a.Observable.fromEvent(document.getElementById("start-button"),"click").subscribe(function(t){console.log("click"),e.startGame()}),console.log(s.Pkg().version)},e.prototype.setupGame=function(e,t,n){var r=this,o=document.getElementById("board");this.game=e&&t&&n?new i.Snake(o,e,t,n):new i.Snake(o),this.game.score.subscribe(function(e){return r.score.innerHTML=String(e)}),this.game.state.subscribe(function(e){r.gameState=e,r.container.setAttribute("class",e)}),this.game.direction.subscribe(function(e){return r.boardContainer.setAttribute("class",e)})},e.prototype.runHappyNewYear=function(){return r(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return e=document.getElementById("board"),this.happyNewYear=new u.HappyNewYear(e),[4,this.happyNewYear.displayHappyNewYearWords()];case 1:return t.sent(),[4,this.happyNewYear.displaySnake()];case 2:return t.sent(),this.setupGame(20,20,20),this.game.reset(),[2]}})})},e.prototype.startGame=function(){this.gameState!=i.GAME_STATES.ready&&this.gameState!=i.GAME_STATES.ended||this.game.start()},e}();t.App=c},461:function(e,t,n){t=e.exports=n(40)(!1),t.push([e.i,"html, body {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  background: #d2e0d2;\n  overflow: hidden; }\n\n#app-container {\n  --color-background: #7ca256;\n  --color-background-dark: darken(#7ca256, 1%);\n  --color-snake: #212121;\n  width: 100%;\n  height: 100%;\n  z-index: 2;\n  position: relative; }\n",""])},462:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o))return e;var a;return a=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(a)+")"})}},463:function(e,t,n){var r=n(464);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0};o.transform=void 0;n(41)(r,o);r.locals&&(e.exports=r.locals)},464:function(e,t,n){t=e.exports=n(40)(!1),t.push([e.i,"@import url(https://fonts.googleapis.com/css?family=VT323);",""]),t.push([e.i,"h1 {\n  margin: 0; }\n\n#container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  width: 100%;\n  text-transform: uppercase;\n  font-family: 'VT323', monospace;\n  perspective: 1700px; }\n  #container #board-container {\n    border-radius: 8px;\n    margin: 20px;\n    padding: 20px 20px 10px 20px;\n    box-shadow: 0 2px 3px rgba(0, 0, 0, 0.1);\n    background-color: white;\n    background-image: radial-gradient(farthest-corner at 10px 10px, var(--color-background) 0%, var(--color-background-dark) 100%);\n    transform: rotateX(0deg);\n    transform-style: preserve-3d;\n    transition: transform 0.3s ease, box-shadow 0.5s ease; }\n    #container #board-container #board {\n      border-radius: 5px;\n      border: solid 1px var(--color-snake);\n      transform: translateZ(20px); }\n    #container #board-container .shine-container {\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      border-radius: 8px;\n      overflow: hidden; }\n      #container #board-container .shine-container .shine {\n        position: absolute;\n        top: -40px;\n        left: -40px;\n        right: -40px;\n        bottom: -40px;\n        background: linear-gradient(45deg, rgba(255, 255, 255, 0.75) 0%, rgba(255, 255, 255, 0) 60%);\n        transition: transform 0.3s ease; }\n    #container #board-container .info-container {\n      width: 100%;\n      min-height: 50px;\n      margin-top: 5px;\n      display: flex;\n      flex-direction: row;\n      align-content: center;\n      justify-content: space-between;\n      transform: translateZ(20px); }\n      #container #board-container .info-container .label {\n        margin: 5px 5px 0 0; }\n      #container #board-container .info-container #score {\n        font-size: 1.5em;\n        font-weight: 300;\n        padding: 10px 20px; }\n      #container #board-container .info-container .flex {\n        flex: 1; }\n  #container.PLAYING #board-container {\n    box-shadow: 0 45px 100px rgba(0, 0, 0, 0.3);\n    transform: translateZ(40px); }\n    #container.PLAYING #board-container.up {\n      transform: rotateX(10deg); }\n      #container.PLAYING #board-container.up .shine-container .shine {\n        transform: rotateX(10deg) translateX(-40px) translateZ(1px); }\n    #container.PLAYING #board-container.down {\n      transform: rotateX(-10deg); }\n      #container.PLAYING #board-container.down .shine-container .shine {\n        transform: rotateX(-10deg) translateX(40px) translateZ(1px); }\n    #container.PLAYING #board-container.left {\n      transform: rotateY(-10deg); }\n      #container.PLAYING #board-container.left .shine-container .shine {\n        transform: rotateY(-10deg) translateY(-40px) translateZ(1px); }\n    #container.PLAYING #board-container.right {\n      transform: rotateY(10deg); }\n      #container.PLAYING #board-container.right .shine-container .shine {\n        transform: rotateY(10deg) translateY(40px) translateZ(1px); }\n  #container #start-button {\n    font-family: inherit;\n    text-transform: uppercase;\n    font-size: 1.5em;\n    background-color: transparent;\n    color: var(--color-snake);\n    padding: 10px 20px;\n    border: 0;\n    border-radius: 2px;\n    cursor: pointer;\n    outline: none; }\n    #container #start-button:hover {\n      color: grey;\n      border-color: var(--color-background); }\n  #container .state-driven {\n    display: none; }\n  #container.READY #start-button {\n    display: block; }\n  #container.ENDED #start-button {\n    display: block; }\n  #container.ENDED .re {\n    display: inline; }\n  #container .controls .keyboard {\n    display: inline; }\n  #container .controls .touch {\n    display: none; }\n  @media (any-hover: none) and (any-pointer: coarse) {\n    #container .controls .keyboard {\n      display: none; }\n    #container .controls .touch {\n      display: inline; } }\n",""])},465:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(162),n(466),n(468);var r,o=n(25),a=n(470),i=n(471);!function(e){e.ready="READY",e.playing="PLAYING",e.ended="ENDED",e.paused="PAUSED"}(r=t.GAME_STATES||(t.GAME_STATES={}));var s;!function(e){e.move="move",e.dead="dead",e.collect="collect",e.start="start"}(s=t.SOUND||(t.SOUND={}));var u=function(){function e(e,t,n,s){var u=this;this.SETTINGS={grid:{size:15,rows:30,columns:30},game:{scoreIncrement:10},snake:{startLength:3,startSpeed:250,speedIncrement:10,minSpeed:100,growBy:2}},this.DIRECTION={up:{name:"up",x:0,y:-1},down:{name:"down",x:0,y:1},left:{name:"left",x:-1,y:0},right:{name:"right",x:1,y:0}},this.states={direction:this.DIRECTION.up,nextDirection:[this.DIRECTION.up],speed:0,game:r.ready,timeStamp:0,snakeLength:0,score:0},this.sfxLibrary={start:{Frequency:{Start:463.2977575242697,Slide:.4268311992714056,RepeatSpeed:.6870767779635416},Generator:{A:.015696072909390766},Volume:{Sustain:.11353385475559997,Decay:.15242709930669884,Master:.1}},collect1:{Frequency:{Start:1183.9224793246758,ChangeSpeed:.12793431035602038,ChangeAmount:4.8612434857196085},Volume:{Sustain:.011448880380128946,Decay:.3895997546965799,Punch:.4554389528366015,Master:.18}},collect2:{Frequency:{Start:1070.9337014976563,ChangeSpeed:.1375978771153015,ChangeAmount:5.9409661118536246},Volume:{Sustain:.04890791064198004,Decay:.3415421194668815,Punch:.46291381941601983,Master:.18}},dead:{Frequency:{Start:194.70758491034655,Slide:-.011628522004559189,ChangeSpeed:.6591296059731018,ChangeAmount:2.6287197798189297},Generator:{Func:"noise"},Volume:{Sustain:.17655222296084297,Decay:.24077933399701645,Punch:.6485369099751499,Master:.2}},move1:{Frequency:{Start:452,Slide:-.04,Min:30,DeltaSlide:-.05},Generator:{Func:"sine",A:.08999657142884616,ASlide:.3390436675524937},Filter:{HP:.10068425608105215},Volume:{Sustain:0,Decay:.041,Attack:.011,Punch:.04,Master:.18}},move2:{Frequency:{Start:452,Slide:-.01,Min:30,DeltaSlide:-.05},Generator:{Func:"sine",A:.08999657142884616,ASlide:.3390436675524937},Filter:{HP:.26,LPResonance:0,HPSlide:.35,LPSlide:.51,LP:1},Volume:{Sustain:.02,Decay:.001,Attack:.021,Punch:.05,Master:.18},Phaser:{Offset:-.03,Sweep:-.02},Vibrato:{FrequencySlide:.04,Frequency:14.01,Depth:.06}},move3:{Frequency:{Start:452,Slide:-.01,Min:30,DeltaSlide:-.05},Generator:{Func:"sine",A:.08999657142884616,ASlide:.3390436675524937},Filter:{HP:.26,LPResonance:0,HPSlide:.35,LPSlide:.51,LP:1},Volume:{Sustain:.02,Decay:.001,Attack:.021,Punch:.05,Master:.18},Phaser:{Offset:-.03,Sweep:-.02},Vibrato:{FrequencySlide:.04,Frequency:14.01,Depth:.16}},move4:{Frequency:{Start:452,Slide:-.01,Min:30,DeltaSlide:-.05},Generator:{Func:"sine",A:.08999657142884616,ASlide:.3390436675524937},Filter:{HP:.26,LPResonance:0,HPSlide:.35,LPSlide:.51,LP:1},Volume:{Sustain:.02,Decay:.001,Attack:.021,Punch:.05,Master:.18},Phaser:{Offset:-.03,Sweep:-.02},Vibrato:{FrequencySlide:.04,Frequency:14.01,Depth:.27}}},this.player=i.Sounds(this.sfxLibrary),this.sounds={collect:["collect1","collect2"],dead:["dead"],start:["start"],move:["move1","move2","move3","move4"]},this.grid=[],this.snake=[],this.state=new o.Subject,this.score=new o.Subject,this.direction=new o.Subject,this.board=e,this.board.innerHTML="",t&&n&&s&&(this.SETTINGS.grid.size=t,this.SETTINGS.grid.rows=n,this.SETTINGS.grid.columns=s),this.board.style.setProperty("--grid-size",String(this.SETTINGS.grid.size)),this.board.style.setProperty("--grid-columns",String(this.SETTINGS.grid.columns)),this.board.style.setProperty("--grid-rows",String(this.SETTINGS.grid.rows));for(var d=this.SETTINGS.grid.columns*this.SETTINGS.grid.rows,c=0;c<d;c++){var l=document.createElement("div");this.grid.push(l),this.board.appendChild(l)}this.input=new a.Input(document.body),this.keyPress=o.Observable.fromEvent(document,"keydown").filter(function(e){return["arrowright","arrowleft","arrowup","arrowdown"].indexOf(e.key.toLowerCase())>=0}).map(function(e){return e.key.toLowerCase().replace("arrow","")});var h=o.Observable.fromEvent(document,"keydown").filter(function(e){return["enter"].indexOf(e.key.toLowerCase())>=0});this.touchStartSubscription=this.input.starts.subscribe(function(e){u.touchStartPosition=e}),this.touchEndSubscription=this.input.ends.subscribe(function(e){var t=u.touchStartPosition.x-e.x,n=Math.abs(t),r=u.touchStartPosition.y-e.y,o=Math.abs(r);(n>10||o>10)&&(n>o?t<0?u.setDirection(u.DIRECTION.right):u.setDirection(u.DIRECTION.left):r<0?u.setDirection(u.DIRECTION.down):u.setDirection(u.DIRECTION.up))}),this.keyPressSubscription=this.keyPress.subscribe(function(e){u.states.game==r.playing&&e in u.DIRECTION&&u.setDirection(u.DIRECTION[e])}),this.keyRestartSubscription=h.subscribe(function(e){return u.start()})}return e.prototype.playSound=function(e){var t=this.sounds[e],n=t[Math.floor(Math.random()*t.length)];this.player[n]()},e.prototype.checkDirection=function(e,t){return e.x!=t.x&&e.y!=t.y},e.prototype.setDirection=function(e){var t=!1;this.states.direction.name!=this.states.nextDirection[0].name&&1==this.states.nextDirection.length&&this.checkDirection(this.states.nextDirection[0],e)&&(t=!0),t&&this.checkDirection(this.states.nextDirection[0],e)?(this.states.nextDirection.push(e),this.playSound(s.move)):this.checkDirection(this.states.direction,e)&&(this.states.nextDirection=[e],this.playSound(s.move))},e.prototype.reset=function(){this.updateGameState(r.ready),this.snake=[],this.states.direction=this.DIRECTION.up,this.states.nextDirection=[this.DIRECTION.up],this.states.snakeLength=this.SETTINGS.snake.startLength,this.updateScore(0);for(var e={x:Math.round(this.SETTINGS.grid.columns/2),y:Math.round(this.SETTINGS.grid.rows/2)},t=0;t<this.states.snakeLength;t++){var n={position:{x:e.x,y:e.y+1*t},direction:this.DIRECTION.up};this.snake.unshift(n)}this.placeFood(),this.draw()},e.prototype.draw=function(){for(var e=0;e<this.grid.length;e++)this.grid[e].className="";for(var e=0;e<this.snake.length;e++){var t=["snake"];this.states.game==r.ended&&t.push("dead"),0==e&&t.push("tail"),e==this.snake.length-1&&t.push("head");var n=this.snake[e],o=this.snake[e+1]?this.snake[e+1]:null;o&&n.direction.name!=o.direction.name&&t.push("turn-"+o.direction.name),0==e&&o?t.push(o.direction.name):t.push(n.direction.name);var a=this.getIndexFromPosition(n.position);this.grid[a].className=t.join(" ")}this.grid[this.getIndexFromPosition(this.food)].className="food"},e.prototype.getIndexFromPosition=function(e){return e.x+e.y*this.SETTINGS.grid.columns},e.prototype.getPositionFromIndex=function(e){var t=Math.floor(e/this.SETTINGS.grid.columns);return{x:Math.floor(e%this.SETTINGS.grid.columns),y:t}},e.prototype.eatFood=function(){this.addScore(),this.playSound(s.collect),this.states.snakeLength+=this.SETTINGS.snake.growBy,this.states.speed-=this.SETTINGS.snake.speedIncrement,this.states.speed<this.SETTINGS.snake.minSpeed&&(this.states.speed=this.SETTINGS.snake.minSpeed),this.placeFood()},e.prototype.updateGameState=function(e){this.states.game=e,this.state.next(this.states.game)},e.prototype.addScore=function(){this.updateScore(this.states.score+this.SETTINGS.game.scoreIncrement)},e.prototype.updateScore=function(e){this.states.score=e,this.score.next(this.states.score)},e.prototype.placeFood=function(){for(var e=[],t=0;t<this.snake.length;t++){var n=this.getIndexFromPosition(this.snake[t].position);e.push(n)}for(var r=[],o=0;o<this.grid.length;o++)e.indexOf(o)<0&&r.push(o);var a=Math.floor(Math.random()*r.length);this.food=this.getPositionFromIndex(r[a])},e.prototype.tick=function(e){var t=this;if(this.states.game==r.playing){if(!this.states.timeStamp||e-this.states.timeStamp>this.states.speed){this.states.timeStamp=e,this.states.nextDirection.length>1?this.states.direction=this.states.nextDirection.shift():this.states.direction=this.states.nextDirection[0],this.direction.next(this.states.nextDirection[this.states.nextDirection.length-1].name);var n=this.snake[this.snake.length-1],o={x:n.position.x+this.states.direction.x,y:n.position.y+this.states.direction.y};if(o.x<0||o.x>this.SETTINGS.grid.columns-1||o.y<0||o.y>this.SETTINGS.grid.rows-1)return this.end();for(var a=0;a<this.snake.length;a++)if(this.snake[a].position.x==o.x&&this.snake[a].position.y==o.y)return this.end();var i=(this.DIRECTION,{position:o,direction:this.DIRECTION[this.states.direction.name]});for(this.snake.push(i);this.snake.length>this.states.snakeLength;)this.snake.shift();i.position.x==this.food.x&&i.position.y==this.food.y&&this.eatFood(),this.draw()}window.requestAnimationFrame(function(e){return t.tick(e)})}},e.prototype.start=function(){this.reset(),this.playSound(s.start),this.states.speed=this.SETTINGS.snake.startSpeed,this.updateGameState(r.playing),this.tick(0)},e.prototype.end=function(){console.warn("GAME OVER"),this.playSound(s.dead),this.updateGameState(r.ended),this.direction.next(""),this.draw()},e}();t.Snake=u},466:function(e,t,n){var r=n(467);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0};o.transform=void 0;n(41)(r,o);r.locals&&(e.exports=r.locals)},467:function(e,t,n){t=e.exports=n(40)(!1),t.push([e.i,"@keyframes flash {\n  0% {\n    opacity: 1; }\n  50% {\n    opacity: 0; } }\n\n#board {\n  --grid-columns: 0;\n  --grid-rows: 0;\n  --grid-size: 0;\n  width: calc(var(--grid-size) * var(--grid-columns) * 1px);\n  height: calc(var(--grid-size) * var(--grid-rows) * 1px);\n  display: grid;\n  grid-template-columns: repeat(var(--grid-columns), 1fr);\n  grid-template-rows: repeat(var(--grid-rows), 1fr);\n  grid-gap: 1px;\n  max-width: calc(100vw - 80px);\n  max-height: calc(100vw - 80px); }\n  #board > div {\n    background-color: transparent; }\n    #board > div.food, #board > div.snake {\n      box-shadow: 0px 0px 0px rgba(0, 0, 0, 0.1);\n      transition: box-shadow 0.3s ease; }\n    #board > div.food {\n      background-color: var(--color-snake);\n      border-radius: 50%;\n      margin: 1px; }\n    #board > div.snake {\n      background-color: var(--color-snake); }\n      #board > div.snake.head.up {\n        border-top-left-radius: 50%;\n        border-top-right-radius: 50%; }\n      #board > div.snake.head.down {\n        border-bottom-left-radius: 50%;\n        border-bottom-right-radius: 50%; }\n      #board > div.snake.head.left {\n        border-top-left-radius: 50%;\n        border-bottom-left-radius: 50%; }\n      #board > div.snake.head.right {\n        border-top-right-radius: 50%;\n        border-bottom-right-radius: 50%; }\n      #board > div.snake.tail.up {\n        border-bottom-left-radius: 50% 100%;\n        border-bottom-right-radius: 50% 100%; }\n      #board > div.snake.tail.down {\n        border-top-left-radius: 50% 100%;\n        border-top-right-radius: 50% 100%; }\n      #board > div.snake.tail.right {\n        border-bottom-left-radius: 100% 50%;\n        border-top-left-radius: 100% 50%; }\n      #board > div.snake.tail.left {\n        border-bottom-right-radius: 100% 50%;\n        border-top-right-radius: 100% 50%; }\n      #board > div.snake.turn-left.up {\n        border-top-right-radius: 50%; }\n      #board > div.snake.turn-left.down {\n        border-bottom-right-radius: 50%; }\n      #board > div.snake.turn-right.up {\n        border-top-left-radius: 50%; }\n      #board > div.snake.turn-right.down {\n        border-bottom-left-radius: 50%; }\n      #board > div.snake.turn-up.left {\n        border-bottom-left-radius: 50%; }\n      #board > div.snake.turn-up.right {\n        border-bottom-right-radius: 50%; }\n      #board > div.snake.turn-down.left {\n        border-top-left-radius: 50%; }\n      #board > div.snake.turn-down.right {\n        border-top-right-radius: 50%; }\n      #board > div.snake.dead {\n        animation: flash 0.3s steps(1) infinite; }\n\n.up #board > div.food, .up #board > div.snake {\n  box-shadow: 0px 5px 0px 0px rgba(0, 0, 0, 0.1); }\n\n.down #board > div.food, .down #board > div.snake {\n  box-shadow: 0px -5px 0px 0px rgba(0, 0, 0, 0.1); }\n\n.left #board > div.food, .left #board > div.snake {\n  box-shadow: 5px 0px 0px 0px rgba(0, 0, 0, 0.1); }\n\n.right #board > div.food, .right #board > div.snake {\n  box-shadow: -5px 0px 0px 0px rgba(0, 0, 0, 0.1); }\n",""])},468:function(e,t,n){var r=n(469);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0};o.transform=void 0;n(41)(r,o);r.locals&&(e.exports=r.locals)},469:function(e,t,n){t=e.exports=n(40)(!1),t.push([e.i,"#board .word {\n  background-color: var(--color-snake); }\n\n#board .black {\n  background-color: #201f1d; }\n\n#board .orange {\n  background-color: #e48237; }\n\n#board .tan {\n  background-color: #f0c19d; }\n\n#board .red {\n  background-color: #fd0005; }\n\n#board .flash {\n  animation: flash 0.5s steps(1) infinite; }\n",""])},470:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25),o=function(){function e(e){this.mouseEventToCoordinate=function(e){return e.preventDefault(),{x:e.clientX,y:e.clientY}},this.touchEventToCoordinate=function(e){return{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}},this.mouseDowns=r.Observable.fromEvent(e,"mousedown").map(this.mouseEventToCoordinate),this.mouseMoves=r.Observable.fromEvent(window,"mousemove").map(this.mouseEventToCoordinate),this.mouseUps=r.Observable.fromEvent(window,"mouseup").map(this.mouseEventToCoordinate),this.touchStarts=r.Observable.fromEvent(e,"touchstart").map(this.touchEventToCoordinate),this.touchMoves=r.Observable.fromEvent(e,"touchmove").map(this.touchEventToCoordinate),this.touchEnds=r.Observable.fromEvent(window,"touchend").map(this.touchEventToCoordinate),this.starts=this.mouseDowns.merge(this.touchStarts),this.moves=this.mouseMoves.merge(this.touchMoves),this.ends=this.mouseUps.merge(this.touchEnds)}return e}();t.Input=o},471:function(e,t){!function(t,n){"object"==typeof e&&"object"==typeof e.exports?e.exports=n():t.jsfx=n()}(this,function(){"use strict";function e(e,t){return e.stage-t.stage}function t(e,t){for(var n=0;n<t.length;n+=1){var r=t[n],o=e[r.name]||{};p(r.params,function(e,t){void 0===o[t]&&(o[t]=e.D)}),e[r.name]=o}}function n(n,r){n=n||{},r=r||A.DefaultModules,n="function"==typeof n?n():JSON.parse(JSON.stringify(n)),this.finished=!1,this.state={SampleRate:n.SampleRate||A.SampleRate},r=r.slice(),r.sort(e),this.modules=r,t(n,r);for(var o=0;o<this.modules.length;o+=1){var a=this.modules[o];this.modules[o].setup(this.state,n[a.name])}}function r(){return p(A.Module,function(){return{}})}function o(e){for(var t in e)0==g(e[t]).length&&delete e[t]}function a(e){return new Function("$","block","var TAU = Math.PI * 2;\nvar sample;\nvar phase = +$.generatorPhase,\n\tA = +$.generatorA, ASlide = +$.generatorASlide,\n\tB = +$.generatorB, BSlide = +$.generatorBSlide;\n\nfor(var i = 0; i < block.length; i++){\n\tvar phaseSpeed = block[i];\n\tphase += phaseSpeed;\n\tif(phase > TAU){ phase -= TAU };\n\tA += ASlide; B += BSlide;\n   A = A < 0 ? 0 : A > 1 ? 1 : A;\n   B = B < 0 ? 0 : B > 1 ? 1 : B;\n"+e+"\tblock[i] = sample;\n}\n\n$.generatorPhase = phase;\n$.generatorA = A;\n$.generatorB = B;\nreturn block.length;\n")}function i(e){function t(e){for(var t=0;t<e.length;t+=1)a[i]=e.charCodeAt(t),i++}function n(e,t){t<=0||(a[i]=255&e,i++,n(e>>8,t-1))}"undefined"!=typeof Float32Array&&c(e instanceof Float32Array,"data must be an Float32Array");var r=w*y>>3,o=A.SampleRate*r,a=b(44+2*e.length),i=0;return t("RIFF"),n(36+2*e.length,4),t("WAVEfmt "),n(16,4),n(1,2),n(w,2),n(A.SampleRate,4),n(o,4),n(r,2),n(y,2),t("data"),n(2*e.length,4),u(a.subarray(i),e),a}function s(e){var t=i(e);return new Audio("data:audio/wav;base64,"+d(t))}function u(e,t){c(e.length/2==t.length,"the target buffer must be twice as large as the iinput");for(var n=0,r=0;r<t.length;r++){var o=+t[r],a=32767*o|0;a=a<-32768?-32768:32767<a?32767:a,a+=a<0?65536:0,e[n]=255&a,n++,e[n]=a>>8,n++}}function d(e){for(var t="",n=0;n<e.length;n+=32768){var r=Math.min(n+32768,e.length);t+=String.fromCharCode.apply(null,e.subarray(n,r))}return btoa(t)}function c(e,t){if(!e)throw new Error(t)}function l(e,t,n){return e=+e,t=+t,n=+n,e<t?+t:e>n?+n:+e}function h(e){return e=+e,e<0?0:e>1?1:+e}function p(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r],r));return n}function f(e,t){var n=Math.random();return void 0!==e&&(n*=e),void 0!==t&&(n+=t),n}function m(e){return e[e.length*Math.random()|0]}function g(e){var t=[];for(var n in e)t.push(n);return t}function v(e){if("undefined"==typeof Float32Array)for(var t=new Array(e),n=0;n<t.length;n++)t[n]=0;return new Float32Array(e)}function b(e){if("undefined"==typeof Uint8Array)for(var t=new Array(e),n=0;n<t.length;n++)t[n]=0;return new Uint8Array(e)}var S=(String.fromCharCode,2*+Math.PI),y=16,w=1,x=Math.sin,P=Math.pow,k=Math.abs,A={},D=window.AudioContext||window.webkitAudioContext;A.SampleRate=0,A.Sec=0,A.SetSampleRate=function(e){A.SampleRate=0|e,A.Sec=0|e},A.SetSampleRate(function(){return void 0!==D?(new D).sampleRate:44100}()),A.Sound=function(e){var t=new n(e,A.DefaultModules),r=v(t.getSamplesLeft());return t.generate(r),s(r)},A.Sounds=function(e,t,n){function r(){if(0==i.length)return void(t&&t(sounds));var a=i.shift();o[a]=A.Sound(e[a]),s++,n&&n(a,s,u),window.setTimeout(r,30)}var o={},a={};a._audio=o;var i=[];p(e,function(e,t){a[t]=function(){void 0!==o[t]&&(o[t].currentTime=0,o[t].play())},i.push(t)});var s=0,u=i.length;return r(),a},A.SoundsImmediate=function(e){var t={},n={};return n._audio=t,p(e,function(e,r){t[r]=A.Sound(e),n[r]=function(){void 0!==t[r]&&(t[r].currentTime=0,t[r].play())}}),n},A.FloatBuffer=function(e,t){var r=new n(e,A.DefaultModules),o=v(r.getSamplesLeft());return r.generate(o),o},void 0!==D?(A.Node=function(e,t,r,o,a){var i=e.createScriptProcessor(o,0,1),s=new n(t,r||A.DefaultModules);return i.onaudioprocess=function(e){var t=e.outputBuffer.getChannelData(0);s.generate(t),!a&&s.finished&&setTimeout(function(){i.disconnect()},30)},i},A.AudioBuffer=function(e,t,r){var o=new n(t,r||A.DefaultModules),a=e.createBuffer(w,o.getSamplesLeft(),A.SampleRate),i=a.getChannelData(0);return o.generate(i),a},A.Live=function(e,t,n){n=n||2048;var r={},o=new D,a=o.createGain();return a.connect(o.destination),r._context=o,r._volume=a,p(e,function(e,i){r[i]=function(){A.Node(o,e,t,n).connect(a)}}),r._close=function(){o.close()},r._play=function(e){A.Node(o,e,t,n).connect(a)},r}):A.Live=A.Sounds,A.Module={},A.G={};var L=A.stage={PhaseSpeed:0,PhaseSpeedMod:10,Generator:20,SampleMod:30,Volume:40};A.InitDefaultParams=t,A.Processor=n,n.prototype={generate:function(e){for(var t=0;t<e.length;t+=1)e[t]=0;if(!this.finished){for(var n=this.state,r=0|e.length,t=0;t<this.modules.length;t+=1){var o=this.modules[t],a=0|o.process(n,e.subarray(0,r));r=Math.min(r,a)}r<e.length&&(this.finished=!0);for(var t=r;t<e.length;t++)e[t]=0}},getSamplesLeft:function(){for(var e=0,t=0;t<this.state.envelopes.length;t+=1)e+=this.state.envelopes[t].N;return 0===e&&(e=3*this.state.SampleRate),e}},A.Module.Frequency={name:"Frequency",params:{Start:{L:30,H:1800,D:440},Min:{L:30,H:1800,D:30},Max:{L:30,H:1800,D:1800},Slide:{L:-1,H:1,D:0},DeltaSlide:{L:-1,H:1,D:0},RepeatSpeed:{L:0,H:3,D:0},ChangeAmount:{L:-12,H:12,D:0},ChangeSpeed:{L:0,H:1,D:0}},stage:L.PhaseSpeed,setup:function(e,t){var n=e.SampleRate;e.phaseParams=t,e.phaseSpeed=t.Start*S/n,e.phaseSpeedMax=t.Max*S/n,e.phaseSpeedMin=t.Min*S/n,e.phaseSpeedMin=Math.min(e.phaseSpeedMin,e.phaseSpeed),e.phaseSpeedMax=Math.max(e.phaseSpeedMax,e.phaseSpeed),e.phaseSlide=1+64*P(t.Slide,3)/n,e.phaseDeltaSlide=P(t.DeltaSlide,3)/(1e3*n),e.repeatTime=0,e.repeatLimit=1/0,t.RepeatSpeed>0&&(e.repeatLimit=t.RepeatSpeed*n),e.arpeggiatorTime=0,e.arpeggiatorLimit=t.ChangeSpeed*n,0==t.ChangeAmount&&(e.arpeggiatorLimit=1/0),e.arpeggiatorMod=1+t.ChangeAmount/12},process:function(e,t){for(var n=+e.phaseSpeed,r=+e.phaseSpeedMin,o=+e.phaseSpeedMax,a=+e.phaseSlide,i=+e.phaseDeltaSlide,s=e.repeatTime,u=e.repeatLimit,d=e.arpeggiatorTime,c=e.arpeggiatorLimit,l=e.arpeggiatorMod,h=0;h<t.length;h++){if(a+=i,n*=a,n=n<r?r:n>o?o:n,s>u)return this.setup(e,e.phaseParams),h+this.process(e,t.subarray(h))-1;s++,d>c&&(n*=l,d=0,c=1/0),d++,t[h]+=n}return e.repeatTime=s,e.arpeggiatorTime=d,e.arpeggiatorLimit=c,e.phaseSpeed=n,e.phaseSlide=a,t.length}},A.Module.Vibrato={name:"Vibrato",params:{Depth:{L:0,H:1,D:0},DepthSlide:{L:-1,H:1,D:0},Frequency:{L:.01,H:48,D:0},FrequencySlide:{L:-1,H:1,D:0}},stage:L.PhaseSpeedMod,setup:function(e,t){var n=e.SampleRate;e.vibratoPhase=0,e.vibratoDepth=t.Depth,e.vibratoPhaseSpeed=t.Frequency*S/n,e.vibratoPhaseSpeedSlide=1+3*P(t.FrequencySlide,3)/n,e.vibratoDepthSlide=t.DepthSlide/n},process:function(e,t){var n=+e.vibratoPhase,r=+e.vibratoDepth,o=+e.vibratoPhaseSpeed,a=+e.vibratoPhaseSpeedSlide,i=+e.vibratoDepthSlide;if(0==r&&i<=0)return t.length;for(var s=0;s<t.length;s++)n+=o,n>S&&(n-=S),t[s]+=t[s]*x(n)*r,o*=a,r+=i,r=h(r);return e.vibratoPhase=n,e.vibratoDepth=r,e.vibratoPhaseSpeed=o,t.length}},A.Module.Generator={name:"Generator",params:{Func:{C:A.G,D:"square"},A:{L:0,H:1,D:0},B:{L:0,H:1,D:0},ASlide:{L:-1,H:1,D:0},BSlide:{L:-1,H:1,D:0}},stage:L.Generator,setup:function(e,t){e.generatorPhase=0,"string"==typeof t.Func?e.generator=A.G[t.Func]:e.generator=t.Func,"object"==typeof e.generator&&(e.generator=e.generator.create()),c("function"==typeof e.generator,"generator must be a function"),e.generatorA=t.A,e.generatorASlide=t.ASlide,e.generatorB=t.B,e.generatorBSlide=t.BSlide},process:function(e,t){return e.generator(e,t)}};A.Module.Guitar={name:"Guitar",params:{A:{L:0,H:1,D:1},B:{L:0,H:1,D:1},C:{L:0,H:1,D:1}},stage:L.Generator,setup:function(e,t){e.guitarA=t.A,e.guitarB=t.B,e.guitarC=t.C,e.guitarBuffer=v(65536),e.guitarHead=0;for(var n=e.guitarBuffer,r=0;r<n.length;r++)n[r]=2*Math.random()-1},process:function(e,t){for(var n=65536,r=n-1,o=+e.guitarA,a=+e.guitarB,i=+e.guitarC,s=o+a+i,u=e.guitarHead,d=e.guitarBuffer,c=0;c<t.length;c++){var l=S/t[c]|0;l=l>n?n:l;var h=u-l+n&r;d[u]=(d[h-0+n&r]*o+d[h-1+n&r]*a+d[h-2+n&r]*i)/s,t[c]=d[u],u=u+1&r}return e.guitarHead=u,t.length}},A.Module.Filter={name:"Filter",params:{LP:{L:0,H:1,D:1},LPSlide:{L:-1,H:1,D:0},LPResonance:{L:0,H:1,D:0},HP:{L:0,H:1,D:0},HPSlide:{L:-1,H:1,D:0}},stage:L.SampleMod+0,setup:function(e,t){e.FilterEnabled=t.HP>1e-6||t.LP<1-1e-6,e.LPEnabled=t.LP<1-1e-6,e.LP=P(t.LP,3)/10,e.LPSlide=1+100*t.LPSlide/e.SampleRate,e.LPPos=0,e.LPPosSlide=0,e.LPDamping=5/(1+20*P(t.LPResonance,2))*(.01+t.LP),e.LPDamping=1-Math.min(e.LPDamping,.8),e.HP=P(t.HP,2)/10,e.HPPos=0,e.HPSlide=1+100*t.HPSlide/e.SampleRate},enabled:function(e){return e.FilterEnabled},process:function(e,t){if(!this.enabled(e))return t.length;for(var n=+e.LP,r=+e.LPPos,o=+e.LPPosSlide,a=+e.LPSlide,i=+e.LPDamping,s=+e.LPEnabled,u=+e.HP,d=+e.HPPos,c=+e.HPSlide,l=0;l<t.length;l++){(u>1e-6||u<-1e-6)&&(u*=c,u=u<1e-6?1e-6:u>.1?.1:u);var h=r;n*=a,n=n<0?n=0:n>.1?.1:n;var p=t[l];s?(o+=(p-r)*n,o*=i):(r=p,o=0),r+=o,d+=r-h,d*=1-u,t[l]=d}return e.LPPos=r,e.LPPosSlide=o,e.LP=n,e.HP=u,e.HPPos=d,t.length}};A.Module.Phaser={name:"Phaser",params:{Offset:{L:-1,H:1,D:0},Sweep:{L:-1,H:1,D:0}},stage:L.SampleMod+1,setup:function(e,t){e.phaserBuffer=v(1024),e.phaserPos=0,e.phaserOffset=1020*P(t.Offset,2),e.phaserOffsetSlide=4e3*P(t.Sweep,3)/e.SampleRate},enabled:function(e){return k(e.phaserOffsetSlide)>1e-6||k(e.phaserOffset)>1e-6},process:function(e,t){if(!this.enabled(e))return t.length;for(var n=e.phaserBuffer,r=0|e.phaserPos,o=+e.phaserOffset,a=+e.phaserOffsetSlide,i=0;i<t.length;i++){o+=a,o<0&&(o=-o,a=-a),o>1023&&(o=1023,a=0),n[r]=t[i];var s=r-(0|o)+1024&1023;t[i]+=n[s],r=r+1&1023|0}return e.phaserPos=r,e.phaserOffset=o,t.length}},A.Module.Volume={name:"Volume",params:{Master:{L:0,H:1,D:.5},Attack:{L:.001,H:1,D:.01},Sustain:{L:0,H:2,D:.3},Punch:{L:0,H:3,D:1},Decay:{L:.001,H:2,D:1}},stage:L.Volume,setup:function(e,t){var n=e.SampleRate,r=t.Master,o=r*(1+t.Punch);e.envelopes=[{S:0,E:r,N:t.Attack*n|0},{S:o,E:r,N:t.Sustain*n|0},{S:r,E:0,N:t.Decay*n|0}];for(var a=0;a<e.envelopes.length;a+=1){var i=e.envelopes[a];i.G=(i.E-i.S)/i.N}},process:function(e,t){for(var n=0;e.envelopes.length>0&&n<t.length;){for(var r=e.envelopes[0],o=r.S,a=r.G,i=0|Math.min(t.length-n,r.N),s=n+i|0;n<s;n+=1)t[n]*=o,o+=a,o=l(o,0,10);r.S=o,r.N-=i,r.N<=0&&e.envelopes.shift()}return n}},A.DefaultModules=[A.Module.Frequency,A.Module.Vibrato,A.Module.Generator,A.Module.Filter,A.Module.Phaser,A.Module.Volume],A.DefaultModules.sort(e),A.EmptyParams=r,A._RemoveEmptyParams=o,A.Preset={Reset:function(){return r()},Coin:function(){var e=r();return e.Frequency.Start=f(880,660),e.Volume.Sustain=f(.1),e.Volume.Decay=f(.4,.1),e.Volume.Punch=f(.3,.3),f()<.5&&(e.Frequency.ChangeSpeed=f(.15,.1),e.Frequency.ChangeAmount=f(8,4)),o(e),e},Laser:function(){var e=r();return e.Generator.Func=m(["square","saw","sine"]),f()<.33?(e.Frequency.Start=f(880,440),e.Frequency.Min=f(.1),e.Frequency.Slide=f(.3,-.8)):(e.Frequency.Start=f(1200,440),e.Frequency.Min=e.Frequency.Start-f(880,440),e.Frequency.Min<110&&(e.Frequency.Min=110),e.Frequency.Slide=f(.3,-1)),f()<.5?(e.Generator.A=f(.5),e.Generator.ASlide=f(.2)):(e.Generator.A=f(.5,.4),e.Generator.ASlide=f(.7)),e.Volume.Sustain=f(.2,.1),e.Volume.Decay=f(.4),f()<.5&&(e.Volume.Punch=f(.3)),f()<.33&&(e.Phaser.Offset=f(.2),e.Phaser.Sweep=f(.2)),f()<.5&&(e.Filter.HP=f(.3)),o(e),e},Explosion:function(){var e=r();return e.Generator.Func="noise",f()<.5?(e.Frequency.Start=f(440,40),e.Frequency.Slide=f(.4,-.1)):(e.Frequency.Start=f(1600,220),e.Frequency.Slide=f(-.2,-.2)),f()<.2&&(e.Frequency.Slide=0),f()<.3&&(e.Frequency.RepeatSpeed=f(.5,.3)),e.Volume.Sustain=f(.3,.1),e.Volume.Decay=f(.5),e.Volume.Punch=f(.6,.2),f()<.5&&(e.Phaser.Offset=f(.9,-.3),e.Phaser.Sweep=f(-.3)),f()<.33&&(e.Frequency.ChangeSpeed=f(.3,.6),e.Frequency.ChangeAmount=f(24,-12)),o(e),e},Powerup:function(){var e=r();return f()<.5?e.Generator.Func="saw":e.Generator.A=f(.6),e.Frequency.Start=f(220,440),f()<.5?(e.Frequency.Slide=f(.5,.2),e.Frequency.RepeatSpeed=f(.4,.4)):(e.Frequency.Slide=f(.2,.05),f()<.5&&(e.Vibrato.Depth=f(.6,.1),e.Vibrato.Frequency=f(30,10))),e.Volume.Sustain=f(.4),e.Volume.Decay=f(.4,.1),o(e),e},Hit:function(){var e=r();return e.Generator.Func=m(["square","saw","noise"]),e.Generator.A=f(.6),e.Generator.ASlide=f(1,-.5),e.Frequency.Start=f(880,220),e.Frequency.Slide=-f(.4,.3),e.Volume.Sustain=f(.1),e.Volume.Decay=f(.2,.1),f()<.5&&(e.Filter.HP=f(.3)),o(e),e},Jump:function(){var e=r();return e.Generator.Func="square",e.Generator.A=f(.6),e.Frequency.Start=f(330,330),e.Frequency.Slide=f(.4,.2),e.Volume.Sustain=f(.3,.1),e.Volume.Decay=f(.2,.1),f()<.5&&(e.Filter.HP=f(.3)),f()<.3&&(e.Filter.LP=f(-.6,1)),o(e),e},Select:function(){var e=r();return e.Generator.Func=m(["square","saw"]),e.Generator.A=f(.6),e.Frequency.Start=f(660,220),e.Volume.Sustain=f(.1,.1),e.Volume.Decay=f(.2),e.Filter.HP=.2,o(e),e},Lucky:function(){var e=r();return p(e,function(e,t){p(A.Module[t].params,function(t,n){if(t.C){var r=g(t.C);e[n]=r[r.length*Math.random()|0]}else e[n]=Math.random()*(t.H-t.L)+t.L})}),e.Volume.Master=.4,e.Filter={},o(e),e}},A.G.unoise=a("sample = Math.random();"),A.G.sine=a("sample = Math.sin(phase);"),A.G.saw=a("sample = 2*(phase/TAU - ((phase/TAU + 0.5)|0));"),A.G.triangle=a("sample = Math.abs(4 * ((phase/TAU - 0.25)%1) - 2) - 1;"),A.G.square=a("var s = Math.sin(phase); sample = s > A ? 1.0 : s < A ? -1.0 : A;"),A.G.synth=a("sample = Math.sin(phase) + .5*Math.sin(phase/2) + .3*Math.sin(phase/4);");return A.G.noise=a("if(phase % TAU < 4){__noiseLast = Math.random() * 2 - 1;} sample = __noiseLast;"),A.G.string={create:function(){for(var e=65536,t=e-1,n=v(e),r=0;r<n.length;r++)n[r]=2*Math.random()-1;var o=0;return function(r,a){for(var i=2*Math.PI,s=+r.generatorA,u=+r.generatorASlide,d=+r.generatorB,c=+r.generatorBSlide,l=n,h=0;h<a.length;h++){var p=a[h],f=i/p|0;s+=u,d+=c,s=s<0?0:s>1?1:s,d=d<0?0:d>1?1:d;var m=o-f+e&t,g=(1*l[m-0+e&t]+l[m-1+e&t]*s+l[m-2+e&t]*d)/(1+s+d);l[o]=g,a[h]=l[o],o=o+1&t}return r.generatorA=s,r.generatorB=d,a.length}}},A.CreateWave=i,A.CreateAudio=s,A.DownloadAsFile=function(e){c(e instanceof Audio,"input must be an Audio object"),document.location.href=e.src},A.Util={},A.Util.CopyFToU8=u,A.Util.U8ToB64=d,A._createFloatArray=v,A})},472:function(e,t,n){"use strict";function r(){return{version:"1.1.1"}}Object.defineProperty(t,"__esModule",{value:!0}),t.Pkg=r},473:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.happyNewYearWordPositions=[153,156,159,160,163,164,165,168,169,170,173,175,183,186,188,191,193,196,198,201,203,205,213,214,215,216,218,219,220,221,223,224,225,228,229,230,234,243,246,248,251,253,258,264,273,276,278,281,283,288,294,398,401,403,404,405,407,411,428,429,431,433,437,441,458,460,461,463,464,467,469,471,488,491,493,497,499,501,518,521,523,524,525,528,530,637,639,641,642,643,646,647,650,651,652,667,669,671,675,678,680,683,697,698,699,701,702,705,706,707,708,710,711,712,728,731,735,738,740,743,758,761,762,763,765,768,770,773],this.snakeBlackPositions=[192,193,194,195,196,221,227,250,252,256,258,280,282,286,288,310,318,341,342,343,345,346,347,372,376,402,406,429,430,431,432,436,437,438,458,462,466,469,487,490,491,496,499,516,525,530,545,555,560,574,576,584,590,604,607,613,619,634,638,639,640,641,642,648,650,664,677,681,695,706,707,712,713,714,726,733,734,735,738,739,745,757,758,759,760,761,762,770,771,772,773,774],this.snakeBrownPositions=[222,223,224,225,226,251,253,254,255,257,283,284,285,459,460,461,467,468,488,489,492,497,498,517,518,519,520,521,522,526,527,528,529,547,548,549,550,551,556,557,558,559,575,578,579,585,586,587,588,605,606,614,615,616,617,635,636,637,643,644,645,646,649,666,667,668,669,670,671,672,673,674,675,678,679,680,697,698,699,700,701,702,709,710,711,741,742,743,744],this.snakeTanPositions=[281,287,311,312,313,314,315,316,317,373,375,403,405,433,434,435,463,464,465,493,494,495,523,524,546,552,553,554,577,580,581,582,583,589,608,609,610,611,612,618,647,665,676,696,703,704,705,708,727,728,729,730,731,732,740],this.snakeRedPositions=[344,374,404],this.board=e}return e.prototype.displayHappyNewYearWords=function(){var e=this;return new Promise(function(t,n){var r=0;e.board&&Array.from(e.board.childNodes).forEach(function(n,o){n.className="",e.happyNewYearWordPositions.includes(o)&&(r++,setTimeout(function(){n.classList.add("word"),e.happyNewYearWordPositions.indexOf(o)===e.happyNewYearWordPositions.length-1&&(setTimeout(function(){Array.from(document.getElementsByClassName("word")).forEach(function(e){return e.classList.add("flash")})},1500),setTimeout(function(){t(!0)},3e3))},30*r))})})},e.prototype.timeoutAddClass=function(e,t,n){return n++,setTimeout(function(){t.className="",t.classList.add(e)},20*n),n},e.prototype.shuffleArray=function(e){for(var t,n=e.slice(),r=n.length-1;r>0;r--){var o=Math.floor(Math.random()*(r+1));t=[n[o],n[r]],n[r]=t[0],n[o]=t[1]}return n},e.prototype.displaySnake=function(){var e=this;return new Promise(function(t,n){var r=0;if(e.board){var o=e.shuffleArray(Array.from(Array(900).keys()));o.forEach(function(n,a){var i=Array.from(e.board.childNodes)[n];i.classList.remove("flash"),e.snakeBlackPositions.includes(n)?r=e.timeoutAddClass("black",i,r):e.snakeBrownPositions.includes(n)?r=e.timeoutAddClass("orange",i,r):e.snakeTanPositions.includes(n)?r=e.timeoutAddClass("tan",i,r):e.snakeRedPositions.includes(n)?r=e.timeoutAddClass("red",i,r):i.className="",a===o.length-1&&(setTimeout(function(){Array.from(document.querySelectorAll(".black, .orange, .tan, .red")).forEach(function(e){return e.classList.add("flash")})},20*r+2e3),setTimeout(function(){t(!0)},20*r+4e3))})}})},e}();t.HappyNewYear=r},474:function(e,t){e.exports='<div id="container">\r\n    <h1>Snake</h1>\r\n    <div id="board-container">\r\n        <div class="shine-container">\r\n            <div class="shine"></div>\r\n        </div>\r\n        <div id="board"></div>\r\n          \r\n        <div class="info-container">\r\n            <button id="start-button" class="state-driven">\r\n                <img id="start-button-img" src="/public/play.svg" width="20" height="20"/>\r\n                <span class="re state-driven">RE</span>START\r\n            </button>\r\n            <div class="flex"></div>\r\n            <div id="score">0</div>\r\n        </div>\r\n    </div> \r\n    <div class="controls">\r\n        <span class="keyboard"> Use keyboard arrow keys to control</span>\r\n        <span class="touch">Swipe up, down, left or right to control.</span>\r\n    </div>\r\n</div>\r\n\r\n<script>\r\n    // Thêm đoạn mã để lấy tên repository động và điều chỉnh lại đường dẫn\r\n    const repoName = window.location.pathname.split(\'/\')[1];\r\n    if (repoName) {\r\n        const startButtonImg = document.getElementById(\'start-button-img\');\r\n        startButtonImg.src = `/${repoName}/public/play.svg`;\r\n    }\r\n<\/script>\r\n\r\n'}},[459]);